{
  "name": "instance",
  "eventBodyJavaClass": "org.folio.search.domain.dto.Instance",
  "languageSourcePaths": [ "$.languages" ],
  "indexingConfiguration": {
    "eventPreProcessor": "instanceEventPreProcessor"
  },
  "fieldTypes": {
    "suppress": {
      "searchTypes": [ "facet", "filter" ],
      "index": "bool",
      "default": false
    },
    "visibleSuppress": {
      "searchTypes": [ "facet", "filter" ],
      "index": "bool",
      "default": false,
      "showInResponse": true
    }
  },
  "fields": {
    "id": {
      "index": "keyword",
      "showInResponse": true
    },
    "hrid": {
      "index": "keyword"
    },
    "source": {
      "searchTypes": [ "facet", "filter" ],
      "index": "keyword"
    },
    "title": {
      "searchTypes": "sort",
      "searchAliases": [ "title", "keyword" ],
      "index": "multilang",
      "showInResponse": true
    },
    "alternativeTitles": {
      "type": "object",
      "properties": {
        "alternativeTitleTypeId": {
          "index": "source"
        },
        "alternativeTitle": {
          "searchAliases": [ "title", "keyword" ],
          "index": "multilang"
        }
      }
    },
    "indexTitle": {
      "searchAliases": [ "title", "keyword" ],
      "index": "multilang"
    },
    "series": {
      "searchAliases": [ "title", "keyword" ],
      "index": "multilang"
    },
    "identifiers": {
      "type": "object",
      "properties": {
        "value": {
          "searchAliases": [ "keyword" ],
          "index": "keyword"
        },
        "identifierTypeId": {
          "index": "source"
        }
      }
    },
    "contributors": {
      "type": "object",
      "properties": {
        "name": {
          "searchAliases": [ "contributors", "keyword" ],
          "index": "standard",
          "showInResponse": true
        },
        "primary": {
          "index": "bool",
          "showInResponse": true
        },
        "contributorNameTypeId": {
          "index": "source",
          "showInResponse": true
        }
      }
    },
    "subjects": {
      "index": "multilang"
    },
    "instanceTypeId": {
      "searchTypes": [ "facet", "filter" ],
      "index": "keyword"
    },
    "statisticalCodeIds": {
      "searchTypes": [ "facet", "filter" ],
      "index": "keyword"
    },
    "statusId": {
      "searchTypes": [ "facet", "filter" ],
      "index": "keyword"
    },
    "instanceFormatIds": {
      "searchTypes": [ "facet", "filter" ],
      "index": "keyword"
    },
    "languages": {
      "searchTypes": [ "facet", "filter" ],
      "index": "keyword"
    },
    "metadata": {
      "type": "object",
      "properties": {
        "createdDate": {
          "searchTypes": "filter",
          "index": "date"
        },
        "createdByUserId": {
          "index": "keyword"
        },
        "createdByUsername": {
          "index": "keyword"
        },
        "updatedDate": {
          "searchTypes": "filter",
          "index": "date"
        },
        "updatedByUserId": {
          "index": "keyword"
        },
        "updatedByUsername": {
          "index": "keyword"
        }
      }
    },
    "modeOfIssuanceId": {
      "searchTypes": [ "facet", "filter" ],
      "index": "keyword"
    },
    "natureOfContentTermIds": {
      "searchTypes": [ "facet", "filter" ],
      "index": "keyword"
    },
    "publication": {
      "type": "object",
      "properties": {
        "publisher": {
          "searchAliases": [ "publisher" ],
          "index": "multilang",
          "showInResponse": true
        },
        "dateOfPublication": {
          "index": "source",
          "showInResponse": true
        }
      }
    },
    "tags": {
      "type": "object",
      "properties": {
        "tagList": {
          "searchTypes": [ "facet", "filter" ],
          "index": "multilang"
        }
      }
    },
    "classifications": {
      "type": "object",
      "properties": {
        "classificationNumber": {
          "index": "keyword"
        }
      }
    },
    "notes": {
      "type": "object",
      "properties": {
        "note": {
          "index": "multilang"
        },
        "staffOnly": {
          "index": "bool"
        }
      }
    },
    "electronicAccess": {
      "type": "object",
      "properties": {
        "uri": {
          "searchAliases": [ "electronicAccess" ],
          "index": "keyword"
        },
        "linkText": {
          "searchAliases": [ "electronicAccess" ],
          "index": "multilang"
        },
        "materialsSpecification": {
          "index": "none"
        },
        "publicNote": {
          "searchAliases": [ "electronicAccess" ],
          "index": "multilang"
        }
      }
    },
    "staffSuppress": {
      "$type": "visibleSuppress"
    },
    "discoverySuppress": {
      "$type": "visibleSuppress"
    },
    "isBoundWith": {
      "searchTypes": [ "facet", "filter" ],
      "index": "bool",
      "default": false,
      "showInResponse": true
    },
    "items": {
      "type": "object",
      "properties": {
        "id": {
          "searchAliases": "item.id",
          "index": "keyword"
        },
        "hrid": {
          "searchAliases": "item.hrid",
          "index": "keyword"
        },
        "accessionNumber": {
          "searchAliases": "item.accessionNumber",
          "index": "source"
        },
        "formerIds": {
          "searchAliases": "item.formerIds",
          "index": "source"
        },
        "itemIdentifier": {
          "searchAliases": "item.itemIdentifier",
          "index": "source"
        },
        "barcode": {
          "searchAliases": "item.barcode",
          "index": "keyword"
        },
        "effectiveLocationId": {
          "searchAliases": "item.effectiveLocationId",
          "searchTypes": [ "facet", "filter" ],
          "index": "keyword"
        },
        "statisticalCodeIds": {
          "searchAliases": "item.statisticalCodeIds",
          "searchTypes": [ "facet", "filter" ],
          "index": "keyword"
        },
        "status": {
          "searchAliases": "item.status",
          "type": "object",
          "properties": {
            "name": {
              "searchTypes": [ "facet", "filter", "sort" ],
              "searchAliases": "item.status.name",
              "index": "keyword",
              "sort": {
                "fieldName": "items.status.name",
                "type": "collection",
                "secondarySort": [ "sort_title" ]
              }
            }
          }
        },
        "materialTypeId": {
          "searchAliases": "item.materialTypeId",
          "searchTypes": [ "facet", "filter" ],
          "index": "keyword"
        },
        "discoverySuppress": {
          "searchAliases": "item.discoverySuppress",
          "searchTypes": [ "facet", "filter" ],
          "index": "bool",
          "default": false
        },
        "effectiveCallNumberComponents": {
          "searchAliases": "item.effectiveCallNumberComponents",
          "type": "object",
          "properties": {
            "callNumber": {
              "searchAliases": "item.callNumber",
              "index": "source",
              "showInResponse": true
            },
            "prefix": {
              "searchAliases": "item.prefix",
              "index": "source",
              "showInResponse": true
            },
            "suffix": {
              "searchAliases": "item.suffix",
              "index": "source",
              "showInResponse": true
            }
          }
        },

        "effectiveShelvingOrder": {
          "index": "keyword_uppercase",
          "searchAliases": [ "callNumber", "item.effectiveShelvingOrder" ],
          "searchTermProcessor": "effectiveShelvingOrderTermProcessor",
          "showInResponse": true
        },
        "tags": {
          "searchAliases": "item.tags",
          "type": "object",
          "properties": {
            "tagList": {
              "searchAliases": "item.tagList",
              "index": "multilang"
            }
          }
        },
        "electronicAccess": {
          "searchAliases": "item.electronicAccess",
          "type": "object",
          "properties": {
            "uri": {
              "searchAliases": [ "items.electronicAccess", "item.electronicAccess", "item.electronicAccess.uri" ],
              "index": "keyword"
            },
            "linkText": {
              "searchAliases": [ "items.electronicAccess", "item.electronicAccess", "item.electronicAccess.linkText" ],
              "index": "multilang"
            },
            "materialsSpecification": {
              "searchAliases": "item.electronicAccess.materialsSpecification",
              "index": "none"
            },
            "publicNote": {
              "searchAliases": [ "items.electronicAccess", "item.electronicAccess", "item.electronicAccess.publicNote" ],
              "index": "multilang"
            }
          }
        },
        "notes": {
          "searchAliases": "item.notes",
          "type": "object",
          "properties": {
            "note": {
              "index": "multilang",
              "searchAliases": [ "items.notes.note", "item.notes.note" ]
            },
            "staffOnly": {
              "searchAliases": "item.notes.staffOnly",
              "index": "bool"
            }
          }
        },
        "circulationNotes": {
          "searchAliases": "item.circulationNotes",
          "type": "object",
          "properties": {
            "note": {
              "index": "multilang",
              "searchAliases": [ "items.notes.note", "item.notes.note", "item.circulationNotes.note" ]
            },
            "staffOnly": {
              "searchAliases": "item.circulationNotes.staffOnly",
              "index": "bool"
            }
          }
        },
        "metadata": {
          "searchAliases": "item.metadata",
          "type": "object",
          "properties": {
            "createdDate": {
              "searchAliases": "item.metadata.createdDate",
              "searchTypes": "filter",
              "index": "date"
            },
            "createdByUserId": {
              "searchAliases": "item.metadata.createdByUserId",
              "index": "keyword"
            },
            "createdByUsername": {
              "searchAliases": "item.metadata.createdByUsername",
              "index": "keyword"
            },
            "updatedDate": {
              "searchAliases": "item.metadata.updatedDate",
              "searchTypes": "filter",
              "index": "date"
            },
            "updatedByUserId": {
              "searchAliases": "item.metadata.updatedByUserId",
              "index": "keyword"
            },
            "updatedByUsername": {
              "searchAliases": "item.metadata.updatedByUsername",
              "index": "keyword"
            }
          }
        }
      }
    },
    "holdings": {
      "type": "object",
      "properties": {
        "id": {
          "index": "keyword"
        },
        "sourceId": {
          "searchTypes": [ "facet", "filter" ],
          "index": "keyword"
        },
        "holdingsTypeId": {
          "searchTypes": [ "facet", "filter" ],
          "index": "keyword"
        },
        "permanentLocationId": {
          "searchTypes": [ "facet", "filter" ],
          "index": "keyword"
        },
        "statisticalCodeIds": {
          "searchTypes": [ "facet", "filter" ],
          "index": "keyword"
        },
        "discoverySuppress": {
          "$type": "suppress"
        },
        "hrid": {
          "index": "keyword"
        },
        "formerIds": {
          "index": "source"
        },
        "tags": {
          "type": "object",
          "properties": {
            "tagList": {
              "index": "multilang"
            }
          }
        },
        "electronicAccess": {
          "type": "object",
          "properties": {
            "uri": {
              "searchAliases": [ "holdings.electronicAccess" ],
              "index": "keyword"
            },
            "linkText": {
              "searchAliases": [ "holdings.electronicAccess" ],
              "index": "multilang"
            },
            "materialsSpecification": {
              "index": "none"
            },
            "publicNote": {
              "searchAliases": [ "holdings.electronicAccess" ],
              "index": "multilang"
            }
          }
        },
        "notes": {
          "type": "object",
          "properties": {
            "note": {
              "index": "multilang"
            },
            "staffOnly": {
              "index": "bool"
            }
          }
        },
        "metadata": {
          "type": "object",
          "properties": {
            "createdDate": {
              "searchTypes": "filter",
              "index": "date"
            },
            "createdByUserId": {
              "index": "keyword"
            },
            "createdByUsername": {
              "index": "keyword"
            },
            "updatedDate": {
              "searchTypes": "filter",
              "index": "date"
            },
            "updatedByUserId": {
              "index": "keyword"
            },
            "updatedByUsername": {
              "index": "keyword"
            }
          }
        }
      }
    }
  },
  "searchFields": {
    "sort_item.status.name": {
      "searchTypes": "sort",
      "type": "search",
      "index": "lowercase_sort",
      "processor": "sortItemStatusProcessor"
    },
    "sort_title": {
      "searchTypes": "sort",
      "type": "search",
      "index": "lowercase_sort",
      "processor": "sortTitleProcessor"
    },
    "sort_contributors": {
      "searchTypes": "sort",
      "type": "search",
      "index": "lowercase_sort",
      "processor": "sortContributorsProcessor"
    },
    "publicNotes": {
      "type": "search",
      "index": "multilang",
      "processor": "publicNotesProcessor"
    },
    "itemPublicNotes": {
      "type": "search",
      "index": "multilang",
      "processor": "itemPublicNotesProcessor"
    },
    "holdingsPublicNotes": {
      "type": "search",
      "index": "multilang",
      "processor": "holdingsPublicNotesProcessor"
    },
    "oclc": {
      "type": "search",
      "processor": "oclcProcessor",
      "searchTermProcessor": "oclcSearchTermProcessor",
      "index": "standard",
      "indexPlainValue": false
    },
    "isbn": {
      "type": "search",
      "processor": "isbnProcessor",
      "searchTermProcessor": "isbnSearchTermProcessor",
      "index": "standard",
      "indexPlainValue": false
    },
    "issn": {
      "type": "search",
      "index": "keyword",
      "processor": "issnProcessor"
    },
    "instanceTags": {
      "searchTypes": [ "facet", "filter" ],
      "type": "search",
      "index": "keyword",
      "processor": "tagsProcessor"
    },
    "itemTags": {
      "searchTypes": [ "facet", "filter" ],
      "type": "search",
      "index": "keyword",
      "processor": "itemTagsProcessor"
    },
    "holdingsTags": {
      "searchTypes": [ "facet", "filter" ],
      "type": "search",
      "index": "keyword",
      "processor": "holdingsTagsProcessor"
    },
    "holdingsTypeId": {
      "searchTypes": [ "facet", "filter" ],
      "type": "search",
      "index": "keyword",
      "processor": "holdingsTypeIdProcessor"
    },
    "statisticalCodes": {
      "searchTypes": [ "facet", "filter" ],
      "type": "search",
      "index": "keyword",
      "processor": "statisticalCodesProcessor"
    },
    "itemFullCallNumbers": {
      "type": "search",
      "index": "keyword",
      "searchAliases": [ "items.effectiveCallNumberComponents", "items.fullCallNumber", "item.effectiveCallNumberComponents", "item.fullCallNumber" ],
      "processor": "effectiveCallNumberComponentsProcessor"
    },
    "holdingsFullCallNumbers": {
      "type": "search",
      "index": "keyword",
      "searchAliases": [ "holdings.fullCallNumber" ],
      "processor": "holdingsCallNumberComponentsProcessor"
    },
    "itemNormalizedCallNumbers": {
      "type": "search",
      "index": "keyword",
      "searchAliases": [ "items.normalizedCallNumbers", "item.normalizedCallNumbers" ],
      "processor": "itemNormalizedCallNumbersProcessor",
      "searchTermProcessor": "callNumberSearchTermProcessor"
    },
    "holdingsNormalizedCallNumbers": {
      "type": "search",
      "index": "keyword",
      "searchAliases": [ "holdings.normalizedCallNumbers" ],
      "processor": "holdingsNormalizedCallNumbersProcessor",
      "searchTermProcessor": "callNumberSearchTermProcessor"
    },
    "holdingsIdentifiers": {
      "type": "search",
      "index": "keyword",
      "processor": "holdingsIdentifiersProcessor"
    },
    "itemIdentifiers": {
      "type": "search",
      "index": "keyword",
      "processor": "itemIdentifiersProcessor"
    },
    "uniformTitle": {
      "type": "search",
      "index": "multilang",
      "processor": "uniformTitleProcessor"
    },
    "callNumber": {
      "type": "search",
      "index": "long",
      "searchTermProcessor": "effectiveShelvingOrderTermProcessor",
      "processor": "callNumberProcessor"
    },
    "allInstances": {
      "type": "search",
      "index": "multilang",
      "processor": "instanceAllFieldValuesProcessor",
      "rawProcessing": true,
      "dependsOnFeature": "search.all.fields",
      "searchAliases": [ "cql.all", "cql.allInstances" ]
    },
    "allItems": {
      "type": "search",
      "index": "multilang",
      "processor": "itemAllFieldValuesProcessor",
      "rawProcessing": true,
      "dependsOnFeature": "search.all.fields",
      "searchAliases": [ "cql.all", "cql.allItems" ]
    },
    "allHoldings": {
      "type": "search",
      "index": "multilang",
      "processor": "holdingAllFieldValuesProcessor",
      "rawProcessing": true,
      "dependsOnFeature": "search.all.fields",
      "searchAliases": [ "cql.all", "cql.allHoldings" ]
    }
  },
  "mappingsSource": {
    "excludes": [
      "allInstance.*", "plain_allInstance",
      "allItems.*", "plain_allItems",
      "allHoldings.*", "plain_allHoldings",
      "sort_title", "sort_contributors"
    ]
  },
  "indexMappings": { }
}
