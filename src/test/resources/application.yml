spring:
  application:
    name: mod-search
  jackson:
    default-property-inclusion: non_null
    deserialization:
      fail-on-unknown-properties: false
      accept-single-value-as-array: true
  elasticsearch:
    rest:
      username: elastic
      password: s3cret
  datasource:
    username: folio_admin
    password: password
  liquibase:
    change-log: classpath:changelog/changelog-master.xml
  kafka:
    producer:
      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer
  cache:
    cache-names:
      - es-indices
      - reference-data-cache
      - system-user-cache
      - tenant-languages
      - tenant-features
    caffeine:
      spec: maximumSize=500,expireAfterAccess=3600s

server.port: 8081

application:
  environment: folio-test
  search-config:
    initial-languages: eng,fre,ita,spa,ger
    search-features:
      search.all.fields: false
  query:
    properties:
      call-number-range-offset: 1e20
  system-user:
    username: mod-search
    password: Mod-search-1-0-0
    lastname: System
    permissionsFilePath: permissions/test-permissions.csv
  stream-ids:
    scroll-query-size: ${SCROLL_QUERY_SIZE:1000}
    retry-interval-ms: ${STREAM_ID_RETRY_INTERVAL_MS:1000}
    retry-attempts: ${STREAM_ID_RETRY_ATTEMPTS:3}
  kafka:
    listener:
      events:
        concurrency: 2
        topic-pattern: ${KAFKA_EVENTS_CONSUMER_PATTERN:(${application.environment}\.)(.*\.)inventory\.(instance|holdings-record|item)}
        group-id: ${application.environment}-mod-search-events-group
      authorities:
        concurrency: 1
        topic-pattern: ${KAFKA_AUTHORITIES_CONSUMER_PATTERN:(${application.environment}\.)(.*\.)inventory\.authority}
        group-id: ${application.environment}-mod-search-authorities-group

logging:
  level:
    org.apache.kafka.clients.consumer.*: warn
